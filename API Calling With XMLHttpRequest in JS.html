<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API (Application Programming Interface)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
    <div class="spinner-border text-success d-flex justifu-content-center " role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Album ID</th>
                <th scope="col">ID</th>
                <th scope="col">Titlle</th>
                <th scope="col">URL</th>
                <th scope="col">ThumbNailURL</th>
            </tr>
        </thead>
        <tbody>


        </tbody>
    </table>

    <script>

        // https://jsonplaceholder.typicode.com/photos


        //varable = new XMLHttpRequest Class

        // Create a xhr object from the XMLHTTpRequest class

        class Myclass { //Pascal Case
            //1.Property

            //2. Constructor

            //3. Method
            getName() {
                console.log('Hello My Name is Anil' + name);
            }
            open() {

            }
            send() {

            }
        }

        //create a new object from the Myclass
        //syntax
        // let Objectname = new Class Name();

        let obj = new Myclass();

        //Access the method using . dot operator member selection operator

        obj.getName('Avinash');

        //There is a built in class for api calling
        // XHMLHttpRequest class


        // *************** different part*********

        function getMyPhoto(url, method, mycbfn) {

            let xhr = new XMLHttpRequest();

            xhr.open(method, url);



            xhr.send();
            xhr.onload = function () {
                // console.log(response);
                // console.log(typeof xhr.responseText)
                mycbfn(xhr.responseText);

            }


        }
        //2 function calling
        getMyPhoto('https://jsonplaceholder.typicode.com/photos', 'GET', function (response) {


            document.querySelector('.spinner-border').remove();


            console.log(response);

            console.log(response);

            response = JSON.parse(response);//JSON String ---- > JSON Object

            console.log(typeof response)
            console.log(response);

            var tbody = document.querySelector('.table > tbody');

            response.forEach((currentElement, index, arr) => {
                console.log(currentElement);

                var tr = document.createElement('tr');
                var td1 = document.createElement('td');
                td1.innerHTML = currentElement.albumId;
                var td2 = document.createElement('td');
                td2.innerHTML = currentElement.id;
                var td3 = document.createElement('td');
                td3.innerHTML = currentElement.title;
                var td4 = document.createElement('td');
                td4.innerHTML = currentElement.url;
                var td5 = document.createElement('td');
                var img = document.createElement('img');
                img.setAttribute("src", currentElement.thumbnailUrl);
                td5.appendChild(img);

                tr.appendChild(td1);
                tr.appendChild(td2);
                tr.appendChild(td3);
                tr.appendChild(td4);
                tr.appendChild(td5);


                tbody.appendChild(tr);


            });

        })













    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>